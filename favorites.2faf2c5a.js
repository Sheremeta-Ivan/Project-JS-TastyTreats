!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r),r("7mS1x"),r("cN5kT"),r("6PU4E"),r("m4Ga2");var o=r("8nrFW"),a=r("7Mtae"),l=r("5IDkG"),s=r("6PU4E");r("6JpON");var c={favoriteCategoriesList:document.querySelector(".favorite-categories"),favoriteRecipesList:document.querySelector(".favorite-list"),warning:document.querySelector(".empty-storage"),paginationBox:document.getElementById("pagination"),allBtn:document.querySelector(".all-btn")},f="",d=function(){return window.innerWidth<768?9:12},u=function(e,t){for(var n={},i=0;i<e.length;i+=t){n[Math.floor(i/t)+1]=e.slice(i,i+t)}return n},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=localStorage.getItem("favorites"),n=JSON.parse(t)||[];if(c.allBtn.style.display="none",n.length){c.allBtn.style.display="block";var i=d(),r=u(n,i),o=Object.keys(r).length;o>1?(c.paginationBox.style.display="block",(0,l.default)(e,i,o,g)):c.paginationBox.style.display="none";var f=r[e].reduce((function(e,t){var n=t.title,i=t.description,r=t.preview,o=t.rating,l=t.id,s=t.category;return e+(0,a.default)(n,i,r,o,l,s)}),"");c.favoriteRecipesList.innerHTML=f;var v=document.querySelectorAll(".favorite-btn");v.forEach((function(e){e.onclick=function(){return L(e)}}));var p=document.querySelectorAll(".item-rec");p.forEach((function(e){e.addEventListener("click",(function(){(0,s.OpenModal)(e)}))})),c.warning.classList.add("is-hidden")}else c.warning.classList.remove("is-hidden"),c.allBtn.classList.add("is-hidden");0===n.length?(c.warning.classList.remove("is-hidden"),c.paginationBox.style.display="none",c.favoriteCategoriesList.innerHTML="",c.allBtn.style.display="none"):c.warning.classList.add("is-hidden")},v=function(){var e=localStorage.getItem("favorites"),t=JSON.parse(e)||[];return t.length?t.flatMap((function(e){return e.category})).filter((function(e,t,n){return n.indexOf(e)===t})).reduce((function(e,t){return e+p(t)}),""):""},p=function(e){return'<button class="button-fav">'.concat(e,"</button>")},y=function(t){if(!t.target.classList.contains("onActive")){var n,i=[];if(c.favoriteRecipesList.innerHTML="",t!==Number(t)&&"BUTTON"===t.target.nodeName){if(m(t),"all"===t.target.name)return g();f=t.target.textContent}var r=localStorage.getItem("favorites");if((i=JSON.parse(r)||[]).length){n=e(o)(i.filter((function(e){return e.category===f})));var s=1;Number(t)===t&&(s=t);var v=d(),p=u(n,v),S=Object.keys(p).length;S>1?(c.paginationBox.style.display="block",(0,l.default)(s,v,S,y)):c.paginationBox.style.display="none";var h=p[s].reduce((function(e,t){var n=t.title,i=t.description,r=t.preview,o=t.rating,l=t.id,s=t.category;return e+(0,a.default)(n,i,r,o,l,s)}),"");c.favoriteRecipesList.innerHTML=h,document.querySelectorAll(".favorite-btn").forEach((function(e){e.onclick=function(){return L(e)}}))}else c.favoriteCategoriesList.style.display="none"}},m=function(e){var t=document.querySelector(".onActive");t&&t.classList.remove("onActive"),e.target.classList.add("onActive")},L=function(e){var t=JSON.parse(e.dataset.info),n=localStorage.getItem("favorites"),i=JSON.parse(n)||[],r=i.findIndex((function(e){return e.id===t.id}));if(-1!==r){var o=i[r].category;if(i.splice(r,1),localStorage.setItem("favorites",JSON.stringify(i)),!(JSON.parse(localStorage.getItem("favorites"))||[]).some((function(e){return e.category===o})))document.querySelectorAll(".item").forEach((function(e){e.dataset.category===o&&e.remove()})),c.favoriteCategoriesList.querySelectorAll(".button-fav").forEach((function(e){e.textContent===o&&e.remove()}))}0===(JSON.parse(localStorage.getItem("favorites"))||[]).length?(c.favoriteRecipesList.innerHTML="",c.allBtn.style.display="none",c.warning.classList.remove("is-hidden"),c.paginationBox.style.display="none",c.favoriteCategoriesList.innerHTML=""):g()};document.addEventListener("DOMContentLoaded",(function(){var e=v(),t=JSON.parse(localStorage.getItem("favorites"))||[];c.favoriteRecipesList.innerHTML="",c.favoriteCategoriesList.innerHTML="",t.length?c.favoriteCategoriesList.innerHTML="".concat('<button class="button-fav all-btn onActive" name="all">All categories</button>').concat(e):c.allBtn.style.display="none",g()})),c.favoriteCategoriesList.addEventListener("click",y)}();
//# sourceMappingURL=favorites.2faf2c5a.js.map
