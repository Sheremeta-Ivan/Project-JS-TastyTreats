var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("lF9VE"),o("2LJO6"),o("6fRGx");var a=o("cYlGq"),i=o("JcIhZ"),r=o("2LJO6");o("7Y9D8");const l={favoriteCategoriesList:document.querySelector(".favorite-categories"),favoriteRecipesList:document.querySelector(".favorite-list"),warning:document.querySelector(".empty-storage"),paginationBox:document.getElementById("pagination"),allBtn:document.querySelector(".all-btn")};let s="";const c=(e=1)=>{const t=localStorage.getItem("favorites"),n=JSON.parse(t)||[];if(l.allBtn.style.display="none",n.length){l.allBtn.style.display="block";const t=window.innerWidth<768?9:12,o=((e,t)=>{const n={};for(let o=0;o<e.length;o+=t)n[Math.floor(o/t)+1]=e.slice(o,o+t);return n})(n,t),d=Object.keys(o).length;let g;d>1?(l.paginationBox.style.display="block",(0,i.default)(e,t,d,c)):l.paginationBox.style.display="none",g=""===s?n:n.filter((e=>e.category===s));const f=g.reduce(((e,{title:t,description:n,preview:o,rating:i,id:r,category:l})=>e+(0,a.default)(t,n,o,i,r,l)),"");l.favoriteRecipesList.innerHTML=f;document.querySelectorAll(".favorite-btn").forEach((e=>{e.onclick=()=>u(e)}));document.querySelectorAll(".item-rec").forEach((e=>{e.addEventListener("click",(()=>{(0,r.OpenModal)(e)}))})),l.warning.classList.add("is-hidden")}else l.warning.classList.remove("is-hidden"),l.allBtn.classList.add("is-hidden");0===n.length?(l.warning.classList.remove("is-hidden"),l.paginationBox.style.display="none",l.favoriteCategoriesList.innerHTML="",l.allBtn.style.display="none"):l.warning.classList.add("is-hidden")},d=()=>{const e=localStorage.getItem("favorites"),t=JSON.parse(e)||[];return t.length?t.flatMap((e=>e.category)).filter(((e,t,n)=>n.indexOf(e)===t)).reduce(((e,t)=>e+g(t)),""):""},g=e=>`<button class="button-fav">${e}</button>`,f=e=>{const t=document.querySelector(".all-btn");document.querySelectorAll(".button-fav").forEach((t=>{t===e?t.classList.add("onActive"):t.classList.remove("onActive")})),t.classList.remove("onActive")},u=e=>{const t=JSON.parse(e.dataset.info),n=localStorage.getItem("favorites");let o=JSON.parse(n)||[];const a=o.findIndex((e=>e.id===t.id));if(-1!==a){const e=o[a].category;o.splice(a,1),localStorage.setItem("favorites",JSON.stringify(o));if(!(JSON.parse(localStorage.getItem("favorites"))||[]).some((t=>t.category===e))){document.querySelectorAll(".item").forEach((t=>{t.dataset.category===e&&t.remove()}));l.favoriteCategoriesList.querySelectorAll(".button-fav").forEach((t=>{t.textContent===e&&t.remove()}))}}0===(JSON.parse(localStorage.getItem("favorites"))||[]).length?(l.favoriteRecipesList.innerHTML="",l.allBtn.style.display="none",l.warning.classList.remove("is-hidden"),l.paginationBox.style.display="none",l.favoriteCategoriesList.innerHTML=""):c()};document.addEventListener("DOMContentLoaded",(()=>{const e=d(),t=JSON.parse(localStorage.getItem("favorites"))||[];l.favoriteRecipesList.innerHTML="",l.favoriteCategoriesList.innerHTML="",t.length?l.favoriteCategoriesList.innerHTML=`<button class="button-fav all-btn" name="all">All categories</button>${e}`:l.allBtn.style.display="none",c()})),l.favoriteCategoriesList.addEventListener("click",(e=>{"BUTTON"===e.target.nodeName&&("all"===e.target.name?(s="",f(e.target)):(s=e.target.textContent,f(e.target)),c())}));
//# sourceMappingURL=favorites.a96bc29f.js.map
