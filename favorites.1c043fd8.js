!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("7mS1x"),i("6PU4E"),i("m4Ga2");var o=i("7Mtae"),r=i("5IDkG"),a=i("6PU4E");i("6JpON");var l={favoriteCategoriesList:document.querySelector(".favorite-categories"),favoriteRecipesList:document.querySelector(".favorite-list"),warning:document.querySelector(".empty-storage"),paginationBox:document.getElementById("pagination"),allBtn:document.querySelector(".all-btn")},s="",c=function(){return window.innerWidth<768?9:12},d=function(e,t){for(var n={},i=0;i<e.length;i+=t){n[Math.floor(i/t)+1]=e.slice(i,i+t)}return n},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=localStorage.getItem("favorites"),n=JSON.parse(t)||[];if(l.allBtn.style.display="none",n.length){l.allBtn.style.display="block";var i=c(),u=d(n,i),g=Object.keys(u).length;g>1?(l.paginationBox.style.display="block",(0,r.default)(e,i,g,f)):l.paginationBox.style.display="none";var v=(""===s?n:n.filter((function(e){return e.category===s}))).reduce((function(e,t){var n=t.title,i=t.description,r=t.preview,a=t.rating,l=t.id,s=t.category;return e+(0,o.default)(n,i,r,a,l,s)}),"");l.favoriteRecipesList.innerHTML=v;var y=document.querySelectorAll(".favorite-btn");y.forEach((function(e){e.onclick=function(){return p(e)}}));var m=document.querySelectorAll(".item-rec");m.forEach((function(e){e.addEventListener("click",(function(){(0,a.OpenModal)(e)}))})),l.warning.classList.add("is-hidden")}else l.warning.classList.remove("is-hidden"),l.allBtn.classList.add("is-hidden");0===n.length?(l.warning.classList.remove("is-hidden"),l.paginationBox.style.display="none",l.favoriteCategoriesList.innerHTML="",l.allBtn.style.display="none"):l.warning.classList.add("is-hidden")},u=function(){var e=localStorage.getItem("favorites"),t=JSON.parse(e)||[];return t.length?t.flatMap((function(e){return e.category})).filter((function(e,t,n){return n.indexOf(e)===t})).reduce((function(e,t){return e+g(t)}),""):""},g=function(e){return'<button class="button-fav">'.concat(e,"</button>")},v=function(e){var t=document.querySelector(".all-btn");document.querySelectorAll(".button-fav").forEach((function(t){t===e?t.classList.add("onActive"):t.classList.remove("onActive")})),t.classList.remove("onActive")},p=function(e){var t=JSON.parse(e.dataset.info),n=localStorage.getItem("favorites"),i=JSON.parse(n)||[],o=i.findIndex((function(e){return e.id===t.id}));if(-1!==o){var r=i[o].category;if(i.splice(o,1),localStorage.setItem("favorites",JSON.stringify(i)),!(JSON.parse(localStorage.getItem("favorites"))||[]).some((function(e){return e.category===r})))document.querySelectorAll(".item").forEach((function(e){e.dataset.category===r&&e.remove()})),l.favoriteCategoriesList.querySelectorAll(".button-fav").forEach((function(e){e.textContent===r&&e.remove()}))}0===(JSON.parse(localStorage.getItem("favorites"))||[]).length?(l.favoriteRecipesList.innerHTML="",l.allBtn.style.display="none",l.warning.classList.remove("is-hidden"),l.paginationBox.style.display="none",l.favoriteCategoriesList.innerHTML=""):f()};document.addEventListener("DOMContentLoaded",(function(){var e=u(),t=JSON.parse(localStorage.getItem("favorites"))||[];l.favoriteRecipesList.innerHTML="",l.favoriteCategoriesList.innerHTML="",t.length?l.favoriteCategoriesList.innerHTML="".concat('<button class="button-fav all-btn" name="all">All categories</button>').concat(e):l.allBtn.style.display="none",f()})),l.favoriteCategoriesList.addEventListener("click",(function(e){"BUTTON"===e.target.nodeName&&("all"===e.target.name?(s="",v(e.target)):(s=e.target.textContent,v(e.target)),f())}))}();
//# sourceMappingURL=favorites.1c043fd8.js.map
