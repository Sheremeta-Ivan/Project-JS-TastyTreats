var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n),n("lF9VE"),n("dv2B4"),n("2LJO6"),n("6fRGx");var o=n("cYlGq"),a=n("JcIhZ"),r=n("2LJO6");n("7Y9D8");const s={favoriteCategoriesList:document.querySelector(".favorite-categories"),favoriteRecipesList:document.querySelector(".favorite-list"),warning:document.querySelector(".empty-storage"),paginationBox:document.getElementById("pagination"),allBtn:document.querySelector(".all-btn")};let l="";const c=()=>window.innerWidth<768?9:12,d=(e,t)=>{const i={};for(let n=0;n<e.length;n+=t){i[Math.floor(n/t)+1]=e.slice(n,n+t)}return i},g=(e=1)=>{const t=localStorage.getItem("favorites"),i=JSON.parse(t)||[];if(s.allBtn.style.display="none",i.length){s.allBtn.style.display="block";const t=c(),n=d(i,t),l=Object.keys(n).length;l>1?(s.paginationBox.style.display="block",(0,a.default)(e,t,l,g)):s.paginationBox.style.display="none";const f=n[e].reduce(((e,{title:t,description:i,preview:n,rating:a,id:r,category:s})=>e+(0,o.default)(t,i,n,a,r,s)),"");s.favoriteRecipesList.innerHTML=f;document.querySelectorAll(".favorite-btn").forEach((e=>{e.onclick=()=>y(e)}));document.querySelectorAll(".item-rec").forEach((e=>{e.addEventListener("click",(()=>{(0,r.OpenModal)(e)}))})),s.warning.classList.add("is-hidden")}else s.warning.classList.remove("is-hidden"),s.allBtn.classList.add("is-hidden"),window.innerWidth<768&&s.hiroImg.classList.add("is-hidden");0===i.length?(s.warning.classList.remove("is-hidden"),s.paginationBox.style.display="none",s.favoriteCategoriesList.innerHTML="",s.allBtn.style.display="none"):s.warning.classList.add("is-hidden")},f=()=>{const e=localStorage.getItem("favorites"),t=JSON.parse(e)||[];return t.length?t.flatMap((e=>e.category)).filter(((e,t,i)=>i.indexOf(e)===t)).reduce(((e,t)=>e+u(t)),""):""},u=e=>`<button class="button-fav">${e}</button>`,p=e=>{if(e.target.classList.contains("onActive"))return;let t,i=[];if(s.favoriteRecipesList.innerHTML="",e!==Number(e)&&"BUTTON"===e.target.nodeName){if(v(e),"all"===e.target.name)return g();l=e.target.textContent}const n=localStorage.getItem("favorites");if(i=JSON.parse(n)||[],!i.length)return void(s.favoriteCategoriesList.style.display="none");t=[...i.filter((e=>e.category===l))];let r=1;Number(e)===e&&(r=e);const f=c(),u=d(t,f),L=Object.keys(u).length;L>1?(s.paginationBox.style.display="block",(0,a.default)(r,f,L,p)):s.paginationBox.style.display="none";const m=u[r].reduce(((e,{title:t,description:i,preview:n,rating:a,id:r,category:s})=>e+(0,o.default)(t,i,n,a,r,s)),"");s.favoriteRecipesList.innerHTML=m;document.querySelectorAll(".favorite-btn").forEach((e=>{e.onclick=()=>y(e)}))},v=e=>{const t=document.querySelector(".onActive");t&&t.classList.remove("onActive"),e.target.classList.add("onActive")},y=e=>{const t=JSON.parse(e.dataset.info),i=localStorage.getItem("favorites");let n=JSON.parse(i)||[];const o=n.findIndex((e=>e.id===t.id));if(-1!==o){const e=n[o].category;n.splice(o,1),localStorage.setItem("favorites",JSON.stringify(n));if(!(JSON.parse(localStorage.getItem("favorites"))||[]).some((t=>t.category===e))){document.querySelectorAll(".item").forEach((t=>{t.dataset.category===e&&t.remove()}));s.favoriteCategoriesList.querySelectorAll(".button-fav").forEach((t=>{t.textContent===e&&t.remove()}))}}0===(JSON.parse(localStorage.getItem("favorites"))||[]).length?(s.favoriteRecipesList.innerHTML="",s.allBtn.style.display="none",s.warning.classList.remove("is-hidden"),s.paginationBox.style.display="none",s.favoriteCategoriesList.innerHTML=""):g()};document.addEventListener("DOMContentLoaded",(()=>{const e=f(),t=JSON.parse(localStorage.getItem("favorites"))||[];s.favoriteRecipesList.innerHTML="",s.favoriteCategoriesList.innerHTML="",t.length?s.favoriteCategoriesList.innerHTML=`<button class="button-fav all-btn onActive" name="all">All categories</button>${e}`:s.allBtn.style.display="none",g()})),s.favoriteCategoriesList.addEventListener("click",p);
//# sourceMappingURL=favorites.77b4f649.js.map
